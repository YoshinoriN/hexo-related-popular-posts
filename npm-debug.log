0 info it worked if it ends with ok
1 verbose cli [ '/Users/shibatamasakazu/.nvm/versions/node/v4.3.0/bin/node',
1 verbose cli   '/Users/shibatamasakazu/.nvm/versions/node/v4.3.0/bin/npm',
1 verbose cli   'publish' ]
2 info using npm@3.8.8
3 info using node@v4.3.0
4 verbose publish [ '.' ]
5 silly cache add args [ '.', null ]
6 verbose cache add spec .
7 silly cache add parsed spec Result {
7 silly cache add   raw: '.',
7 silly cache add   scope: null,
7 silly cache add   name: null,
7 silly cache add   rawSpec: '.',
7 silly cache add   spec: '/Users/shibatamasakazu/Desktop/web/hexo-related-popular-posts',
7 silly cache add   type: 'directory' }
8 verbose addLocalDirectory /Users/shibatamasakazu/.npm/hexo-related-popular-posts/1.0.1/package.tgz not in flight; packing
9 verbose correctMkdir /Users/shibatamasakazu/.npm correctMkdir not in flight; initializing
10 info lifecycle hexo-related-popular-posts@1.0.1~prepublish: hexo-related-popular-posts@1.0.1
11 silly lifecycle hexo-related-popular-posts@1.0.1~prepublish: no script for prepublish, continuing
12 verbose tar pack [ '/Users/shibatamasakazu/.npm/hexo-related-popular-posts/1.0.1/package.tgz',
12 verbose tar pack   '/Users/shibatamasakazu/Desktop/web/hexo-related-popular-posts' ]
13 verbose tarball /Users/shibatamasakazu/.npm/hexo-related-popular-posts/1.0.1/package.tgz
14 verbose folder /Users/shibatamasakazu/Desktop/web/hexo-related-popular-posts
15 verbose addLocalTarball adding from inside cache /Users/shibatamasakazu/.npm/hexo-related-popular-posts/1.0.1/package.tgz
16 verbose correctMkdir /Users/shibatamasakazu/.npm correctMkdir not in flight; initializing
17 silly cache afterAdd hexo-related-popular-posts@1.0.1
18 verbose afterAdd /Users/shibatamasakazu/.npm/hexo-related-popular-posts/1.0.1/package/package.json not in flight; writing
19 verbose correctMkdir /Users/shibatamasakazu/.npm correctMkdir not in flight; initializing
20 verbose afterAdd /Users/shibatamasakazu/.npm/hexo-related-popular-posts/1.0.1/package/package.json written
21 silly publish { name: 'hexo-related-popular-posts',
21 silly publish   version: '1.0.1',
21 silly publish   main: 'index',
21 silly publish   dependencies:
21 silly publish    { columnify: '^1.5.4',
21 silly publish      'ga-analytics': '^0.0.7',
21 silly publish      'hexo-fs': '^0.1.6',
21 silly publish      mkdirp: '^0.5.1',
21 silly publish      moment: '^2.18.1',
21 silly publish      'object-assign': '^4.1.1',
21 silly publish      kuromoji: '^0.1.1',
21 silly publish      bluebird: '^3.5.0',
21 silly publish      hasha: '^2.2.0',
21 silly publish      'log-util': '^1.1.2' },
21 silly publish   description: 'A hexo plugin that generates a list of links to related posts and popular posts. Also , this plugin can get Visitor Counts (PageView) on posts.',
21 silly publish   devDependencies: { hexo: '^3.0.0-rc.3' },
21 silly publish   directories: { lib: './lib' },
21 silly publish   author:
21 silly publish    { name: 'tea3',
21 silly publish      email: 'tea3gtinfo@gmail.com',
21 silly publish      url: 'https://tea3.github.io/' },
21 silly publish   bugs: { url: 'https://github.com/tea3/hexo-related-popular-posts/issues' },
21 silly publish   keywords:
21 silly publish    [ 'popularPosts',
21 silly publish      'relatedPosts',
21 silly publish      'similarPosts',
21 silly publish      'staticSiteGenerator',
21 silly publish      'hexo',
21 silly publish      'blog',
21 silly publish      'MorphologicalAnalysis',
21 silly publish      'node.js',
21 silly publish      'list',
21 silly publish      'helper',
21 silly publish      'visitorCounts',
21 silly publish      'pageViews',
21 silly publish      'pv' ],
21 silly publish   license: 'MIT',
21 silly publish   maintainers: [ { name: 'tea3gt', email: 'tea3gtinfo@gmail.com' } ],
21 silly publish   repository:
21 silly publish    { type: 'git',
21 silly publish      url: 'git+https://github.com/tea3/hexo-related-popular-posts.git' },
21 silly publish   readme: '# hexo-related-popular-posts\n\nA hexo plugin that generates a list of links to related posts or popular posts. Also , this plugin can display Visitor Counts (Pageview) on posts.\n\n## Overview\n\n- Generate related list of posts. (Relevance of tags & Relevance of contents)\n- Generate popular list of posts. (Sort posts by page views)\n- Get Page Views information on posts. (Visitor Counter)\n\nA hexo plugin that generates a list of links to related posts based on tags , and plugin that generates a list of links to popular posts base on page view of Google Analytics. Popular posts need Google Analytics API. \n\nAlso , this plugin can generates a list of links to related posts based on contents. In addition , plugin supports different styles, thumbnails, is fully customizable and includes caching for improved performance.\n\n## DEMO & Documents\n\n- DEMO : [My Posts](https://tea3.github.io/p/tea-plantation-mtfuji/) has generated [related posts](https://tea3.github.io/p/tea-plantation-mtfuji/#relatedPosts) and [popular posts](https://tea3.github.io/p/tea-plantation-mtfuji/#popularPosts) like this. In addition, the [page view](https://tea3.github.io/p/tea-plantation-mtfuji/#pageView) is displayed like this.\n- Documents : [read me](https://tea3.github.io/p/hexo-related-popular-posts/) (Japanese)\n\n\n## Installation\n\n``` bash\n$ npm install hexo-related-popular-posts --save\n```\n\n## Usage\n\n### 1. Edit your theme\n\nFirst, add the following `popular_posts()` helper tag in template file for article. Please edit `themes/(your-theme)/layout/_partial/your_template.ejs`.\n\n``` ejs\n  <%-\n    popular_posts()\n  %>\n```\n\n### 2. Run server\n\nStarts a local server. By default, this is at `http://localhost:4000/`.\n\n``` bash\n$ hexo server\n```\n\nA related article is displayed . The above is an easy introduction usage.\n\n---\n\n## More settings\n\nIf you want to make more detailed settings , please see below for the details.\n\n- [Options of hepler](https://github.com/tea3/hexo-related-popular-posts#options-of-hepler)\n- [Popular posts](https://github.com/tea3/hexo-related-popular-posts#popular-posts)\n- [Advanced Related posts (Morphological Analysis)](https://github.com/tea3/hexo-related-popular-posts#advanced-related-posts-morphological-analysis)\n- [Cache (Improve generation speed.) ](https://github.com/tea3/hexo-related-popular-posts#cache)\n- [Log](https://github.com/tea3/hexo-related-popular-posts#log)\n- [Customize HTML](https://github.com/tea3/hexo-related-popular-posts#customize-html)\n- [Visitor Counter](https://github.com/tea3/hexo-related-popular-posts#visitor-counter)\n- [Ranking Sheet](https://github.com/tea3/hexo-related-popular-posts#ranking-sheet)\n\n\nAlso , this plugin can set the following options. Please edit your config file `_config.yml`.\n\n``` yaml\n# More detailed settings\npopularPosts:\n\n  # (optional) Popular posts options\n  googleAnalyticsAPI:\n    clientId: ******.apps.googleusercontent.com\n    serviceEmail: *****@developer.gserviceaccount.com\n    key: /hexo-project-root/path/to/google-services.pem\n    viewId: 12345678\n    dateRange: 30\n    expiresDate: 10\n    pvMeasurementsStartDate: 2015/11/01\n    rankingSheet: rankingSheet.txt\n    # cache:            # (Deprecated) This options is Deprecated > v0.1.3\n    #  path: hexo-related-popular-posts-ga-cached.json  # (Deprecated) This options is Deprecated > v0.1.3\n    #  expiresDate: 10  # (Deprecated) This options is Deprecated > v0.1.3\n    \n  # (optional) Advanced Related posts options\n  morphologicalAnalysis: \n    negativeKeywordsList: pluginSettings/hexo-rpp-negativewords.txt\n    limit: 300\n    \n  # (optional) Related post\'s weight options\n  weight:\n    tagRelevancy: 1.0\n    contentsRelevancy: 1.0\n    \n  # (optional) Cache options (Improve generation speed.)\n  cache:\n    path: cache/hexo-popular-related-posts-ga-cached.json\n    \n  # (optional) Log options\n  log: true\n```\n\n\n\n## Options of hepler\n\n`popular_posts()` helper can set the following options.\n\n| option | description | default |\n| :--- | :--- | :--- |\n| maxCount| Maximum count of a list | `5` |\n| ulClass| Class name of element | `\'popular-posts\'` |\n| PPMixingRate| Mixing ratio of popular posts and related posts | `0.0`(=Related posts only) |\n| isDate| visible the date | `false` |\n| isImage| visible the image | `false` |\n| isExcerpt| visible the excerpt | `false` |\n| PPCategoryFilter | Option to fix category on Popular Posts | `undefined` |\n\n### Helper\'s Option Examples\n\n1. Related Articles will generate 5 posts. Also, Image of Articles generate .\n\n``` ejs\n  <%-\n    popular_posts_json({ maxCount: 5 , ulClass: \'popular-posts\' , PPMixingRate: 0.0 , isImage: true})\n  %>\n```\n\n2. Popular Articles will generate 10 posts . (Popular posts need Google Analytics API.)\n\n``` ejs\n  <%-\n    popular_posts_json({ maxCount: 10 , ulClass: \'popular-posts\' , PPMixingRate: 1.0 })\n  %>\n```\n\n\nIf you want customize list\'s html , please use [Customize HTML](https://github.com/tea3/hexo-related-popular-posts#customize-html)\n\n---\n\n## Popular posts\n\nPopular posts base on page view of Google Analytics. Popular posts need Google Analytics API. Please edit your config file `_config.yml` and set the following options. \n\nPlease see [https://www.npmjs.com/package/ga-analytics](https://www.npmjs.com/package/ga-analytics) \n\n``` yaml\npopularPosts:\n  googleAnalyticsAPI:\n    clientId: ******.apps.googleusercontent.com\n    serviceEmail: *****@developer.gserviceaccount.com\n    key: /hexo-project-root/path/to/google-services.pem\n    viewId: 12345678\n    dateRange: 30       # (Optional) The period you want to get by Google Analytics page view. Default = 30\n    expiresDate: 10     # (optional) Expiration date of cache file. Default = 10\n    # cache:            # (Deprecated) This options is Deprecated > v0.1.3\n    #  path: hexo-related-popular-posts-ga-cached.json  # (Deprecated) This options is Deprecated > v0.1.3\n    #  expiresDate: 10  # (Deprecated) This options is Deprecated > v0.1.3\n```\n\nIf you want to use the environment variable. Please set the following. If you use Windows , please see [youtube](https://www.youtube.com/watch?v=C-U9SGaNbwY) about what how to set environment variable. \n\n``` bash\n$ export GOOGLEAPI_CLIENTID="******.apps.googleusercontent.com"\n$ export GOOGLEAPI_EMAIL="*****@developer.gserviceaccount.com"\n$ export GOOGLEAPI_KEY="/path/to/google-services.pem"\n$ export GOOGLEAPI_ANALYTICS_TABLE="ga:12345678"\n```\n\n``` yaml\npopularPosts:\n  googleAnalyticsAPI:\n    # clientId: ******.apps.googleusercontent.com\n    # serviceEmail: *****@developer.gserviceaccount.com\n    # key: /hexo-project-root/path/to/google-services.pem\n    # viewId: 12345678\n    dateRange: 60\n    expiresDate: 10\n```\n\n---\n\n## Advanced Related posts (Morphological Analysis)\n\nThis plugin that can generates a list of links to related posts based on content\'s keywords and internal link. Support language is as follow. [Please cooperate with support of other languages.](https://github.com/tea3/hexo-related-popular-posts/pulls)\n\n- ja\n- en\n\nIf you want to generates a list of links to related posts based on contents , please set the `morphologicalAnalysis` option.\n\n``` yaml\npopularPosts:\n  morphologicalAnalysis: \n```\n\nMore detailed options can be set as follows.\n\n\n``` yaml\npopularPosts:\n  morphologicalAnalysis: \n    negativeKeywordsList: hexo-rpp-negativewords.txt  # (optional) If you want to exclude the keywords for analytics , set the exclude file.\n    limit: 300              # (optional) If you want to limit the number of keywords for analytics , set the number.\n  weight:                   # (optional)\n    tagRelevancy: 1.0       # (optional) Weight of tag relevancy. Default = 1.0\n    contentsRelevancy: 1.0  # (optional) Weight of contents relevancy. Default = 1.0\n```\n\nFor example, `hexo-rpp-negativewords.txt`  can describe a regular expression as follows. Please enter the keywors of each data separated by newlines.\n\n``` txt\n^.$\n^[0-9]+$\n^String to exclude from related keywords$\n^関連キーワードから除外しておきたい文字列を正規表現で指定する$\n^要从相关关键字排除的字符串$\n...\n```\n\n---\n\n## Cache\n\nThis option improves the generation speed. please set the `cache` option.\n\n``` yaml\npopularPosts:\n  cache:\n    path: hexo-popular-related-posts-cached.json\n```\n\n---\n\n## Log\n\nWhen this option is enabled, logs are displayed. please set the `log` option.\n\n``` yaml\npopularPosts:\n  log: true  # (Optional) When this option is enabled, logs are displayed. Default = true\n```\n\n\n---\n\n## Customize HTML\n\nIf you want customize list\'s html , please use `popular_posts_json()` helper and `htmlGenerator()` register . \n\n\nFirst , please edit `themes/(your-theme)/layout/_partial/your_article_template.ejs` .\n\n``` ejs\n<%-\n    htmlGenerator( \n        popular_posts_json({ maxCount: 5 , ulClass: \'popular-posts\' , PPMixingRate: 0.0 , isDate: true , isImage: true , isExcerpt: true})\n    )\n%>\n```\n\nSecond , please edit `themes/(your-theme)/scripts/your_scripts.js` .\n\n``` javascript\n// Examples of helper\nhexo.extend.helper.register(\'htmlGenerator\', function(args){\n  if(!args || !args.json || args.json.length == 0)return "";\n  \n  var returnHTML = "";\n  \n  function generateHTML(list){\n    \n    var ret = "";\n    ret += "<li class=\\"" + args.class + "-item\\">";\n    \n    if(list.date && list.date != ""){\n        ret += \'<div class="\'+args.class+\'-date">\' + list.date + "</div>";\n    }\n    \n    if(list.img && list.img != ""){\n        ret += \'<div class="\'+args.class+\'-img">\' + \'<img src="\'+list.img+\'" />\' + "</div>";\n    }\n    ret += \'<div class="\'+args.class+\'-title"><h3><a href="\' + list.path + \'" title="\'+ list.title +\'" rel="bookmark">\'+ list.title + "</a></h3></div>";\n    if(list.excerpt &&  list.excerpt != ""){\n        ret += \'<div class="\'+args.class+\'-excerpt"><p>\' + list.excerpt + "</p></div>";\n    }\n    \n    ret +=  "</li>";\n    return ret;\n  }\n  \n  for(var i=0; i<args.json.length; i++){\n      returnHTML += generateHTML(args.json[i]);\n  }\n  \n  if(returnHTML != "")returnHTML = "<ul class=\\"" + args.class + "\\">" + returnHTML + "</ul>";\n  \n  return returnHTML;\n});\n```\n\n---\n\n## Visitor Counter\n\nThis plugin can get Page Views information on posts. please set the `pvMeasurementsStartDate` option. Also , Visitor Counter need [Google Analytics API](https://github.com/tea3/hexo-related-popular-posts#popular-posts) .\n\nFirst , please edit your config file `_config.yml`.\n\n``` yaml\npopularPosts:\n  # (optional) Popular posts options\n  googleAnalyticsAPI:\n    clientId: ******.apps.googleusercontent.com\n    serviceEmail: *****@developer.gserviceaccount.com\n    key: /hexo-project-root/path/to/google-services.pem\n    viewId: 12345678\n    dateRange: 30\n    expiresDate: 10\n    pvMeasurementsStartDate: 2015/11/01\n```\n\nSecond , add the following `popular_posts_pv()` helper tag in template file for article. please edit `themes/(your-theme)/layout/_partial/your_article_template.ejs` . \n\n``` ejs\n    This post\'s Visitor Counts is \n    <%- popular_posts_pv() %> \n    views.\n```\n\n---\n\n## Ranking Sheet\n\nThis plugin can make Page Views Ranking Sheet. If you want to use , please set the `rankingSheet` option. Ranking Sheet need [Google Analytics API](https://github.com/tea3/hexo-related-popular-posts#popular-posts) .\n\n``` yaml\npopularPosts:\n  # (optional) Popular posts options\n  googleAnalyticsAPI:\n    clientId: ******.apps.googleusercontent.com\n    serviceEmail: *****@developer.gserviceaccount.com\n    key: /hexo-project-root/path/to/google-services.pem\n    viewId: 12345678\n    dateRange: 30\n    expiresDate: 10\n    pvMeasurementsStartDate: 2015/11/01\n    rankingSheet: rankingSheet.txt\n```\n\n\n\n\n---\n\n## License\n\nMIT\n\n## Thank you for a wonderful plugin.\n\n- Hexo : [http://hexo.io/](http://hexo.io/)\n- ga-analytics : [https://github.com/sfarthin/ga-analytics](https://github.com/sfarthin/ga-analytics)\n- kuromoji.js : [https://github.com/takuyaa/kuromoji.js](https://github.com/takuyaa/kuromoji.js)',
21 silly publish   readmeFilename: 'README.md',
21 silly publish   gitHead: '5427c44cf564c8b7afdb7a4c889c1b4640dfab60',
21 silly publish   homepage: 'https://github.com/tea3/hexo-related-popular-posts#readme',
21 silly publish   _id: 'hexo-related-popular-posts@1.0.1',
21 silly publish   scripts: {},
21 silly publish   _shasum: 'b421a218ed09bb889d7b8199b7118ce1edc5d358',
21 silly publish   _from: '.' }
22 verbose getPublishConfig undefined
23 silly mapToRegistry name hexo-related-popular-posts
24 silly mapToRegistry using default registry
25 silly mapToRegistry registry https://registry.npmjs.org/
26 silly mapToRegistry data Result {
26 silly mapToRegistry   raw: 'hexo-related-popular-posts',
26 silly mapToRegistry   scope: null,
26 silly mapToRegistry   name: 'hexo-related-popular-posts',
26 silly mapToRegistry   rawSpec: '',
26 silly mapToRegistry   spec: 'latest',
26 silly mapToRegistry   type: 'tag' }
27 silly mapToRegistry uri https://registry.npmjs.org/hexo-related-popular-posts
28 verbose publish registryBase https://registry.npmjs.org/
29 silly publish uploading /Users/shibatamasakazu/.npm/hexo-related-popular-posts/1.0.1/package.tgz
30 verbose request uri https://registry.npmjs.org/hexo-related-popular-posts
31 verbose request sending authorization for write operation
32 info attempt registry request try #1 at 19:12:53
33 verbose request using bearer token for auth
34 verbose request id a889cf2838d8edce
35 http request PUT https://registry.npmjs.org/hexo-related-popular-posts
36 http 403 https://registry.npmjs.org/hexo-related-popular-posts
37 verbose headers { 'content-type': 'application/json',
37 verbose headers   'cache-control': 'max-age=300',
37 verbose headers   'content-length': '95',
37 verbose headers   'accept-ranges': 'bytes',
37 verbose headers   date: 'Fri, 07 Apr 2017 10:12:54 GMT',
37 verbose headers   via: '1.1 varnish',
37 verbose headers   connection: 'keep-alive',
37 verbose headers   'x-served-by': 'cache-itm7424-ITM',
37 verbose headers   'x-cache': 'MISS',
37 verbose headers   'x-cache-hits': '0',
37 verbose headers   'x-timer': 'S1491559974.032729,VS0,VE717',
37 verbose headers   vary: 'Accept-Encoding' }
38 verbose request invalidating /Users/shibatamasakazu/.npm/registry.npmjs.org/hexo-related-popular-posts on PUT
39 error publish Failed PUT 403
40 verbose stack Error: "You cannot publish over the previously published version 1.0.1." : hexo-related-popular-posts
40 verbose stack     at makeError (/Users/shibatamasakazu/.nvm/versions/node/v4.3.0/lib/node_modules/npm/node_modules/npm-registry-client/lib/request.js:264:12)
40 verbose stack     at CachingRegistryClient.<anonymous> (/Users/shibatamasakazu/.nvm/versions/node/v4.3.0/lib/node_modules/npm/node_modules/npm-registry-client/lib/request.js:252:14)
40 verbose stack     at Request._callback (/Users/shibatamasakazu/.nvm/versions/node/v4.3.0/lib/node_modules/npm/node_modules/npm-registry-client/lib/request.js:172:14)
40 verbose stack     at Request.self.callback (/Users/shibatamasakazu/.nvm/versions/node/v4.3.0/lib/node_modules/npm/node_modules/request/request.js:200:22)
40 verbose stack     at emitTwo (events.js:87:13)
40 verbose stack     at Request.emit (events.js:172:7)
40 verbose stack     at Request.<anonymous> (/Users/shibatamasakazu/.nvm/versions/node/v4.3.0/lib/node_modules/npm/node_modules/request/request.js:1067:10)
40 verbose stack     at emitOne (events.js:82:20)
40 verbose stack     at Request.emit (events.js:169:7)
40 verbose stack     at IncomingMessage.<anonymous> (/Users/shibatamasakazu/.nvm/versions/node/v4.3.0/lib/node_modules/npm/node_modules/request/request.js:988:12)
41 verbose statusCode 403
42 verbose pkgid hexo-related-popular-posts
43 verbose cwd /Users/shibatamasakazu/Desktop/web/hexo-related-popular-posts
44 error Darwin 14.5.0
45 error argv "/Users/shibatamasakazu/.nvm/versions/node/v4.3.0/bin/node" "/Users/shibatamasakazu/.nvm/versions/node/v4.3.0/bin/npm" "publish"
46 error node v4.3.0
47 error npm  v3.8.8
48 error code E403
49 error "You cannot publish over the previously published version 1.0.1." : hexo-related-popular-posts
50 error If you need help, you may report this error at:
50 error     <https://github.com/npm/npm/issues>
51 verbose exit [ 1, true ]
